(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();var _;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const s={};for(const i of n)s[i]=i;return s},r.getValidEnumValues=n=>{const s=r.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of s)i[o]=n[o];return r.objectValues(i)},r.objectValues=n=>r.objectKeys(n).map(function(s){return n[s]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},r.find=(n,s)=>{for(const i of n)if(s(i))return i},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}r.joinValues=a,r.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(_||(_={}));var Ze;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Ze||(Ze={}));const f=_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),j=r=>{switch(typeof r){case"undefined":return f.undefined;case"string":return f.string;case"number":return isNaN(r)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":return Array.isArray(r)?f.array:r===null?f.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?f.promise:typeof Map<"u"&&r instanceof Map?f.map:typeof Set<"u"&&r instanceof Set?f.set:typeof Date<"u"&&r instanceof Date?f.date:f.object;default:return f.unknown}},c=_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),et=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class P extends Error{constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},a={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)a._errors.push(t(i));else{let o=a,u=0;for(;u<i.path.length;){const d=i.path[u];u===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],u++}}};return n(this),a}static assert(e){if(!(e instanceof P))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},a=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):a.push(e(n));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}P.create=r=>new P(r);const J=(r,e)=>{let t;switch(r.code){case c.invalid_type:r.received===f.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case c.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,_.jsonStringifyReplacer)}`;break;case c.unrecognized_keys:t=`Unrecognized key(s) in object: ${_.joinValues(r.keys,", ")}`;break;case c.invalid_union:t="Invalid input";break;case c.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${_.joinValues(r.options)}`;break;case c.invalid_enum_value:t=`Invalid enum value. Expected ${_.joinValues(r.options)}, received '${r.received}'`;break;case c.invalid_arguments:t="Invalid function arguments";break;case c.invalid_return_type:t="Invalid function return type";break;case c.invalid_date:t="Invalid date";break;case c.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:_.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case c.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case c.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case c.custom:t="Invalid input";break;case c.invalid_intersection_types:t="Intersection results could not be merged";break;case c.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case c.not_finite:t="Number must be finite";break;default:t=e.defaultError,_.assertNever(r)}return{message:t}};let Me=J;function tt(r){Me=r}function ve(){return Me}const _e=r=>{const{data:e,path:t,errorMaps:a,issueData:n}=r,s=[...t,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let o="";const u=a.filter(d=>!!d).slice().reverse();for(const d of u)o=d(i,{data:e,defaultError:o}).message;return{...n,path:s,message:o}},rt=[];function l(r,e){const t=ve(),a=_e({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===J?void 0:J].filter(n=>!!n)});r.common.issues.push(a)}class k{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const n of t){if(n.status==="aborted")return g;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){const a=[];for(const n of t){const s=await n.key,i=await n.value;a.push({key:s,value:i})}return k.mergeObjectSync(e,a)}static mergeObjectSync(e,t){const a={};for(const n of t){const{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return g;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(a[s.value]=i.value)}return{status:e.value,value:a}}}const g=Object.freeze({status:"aborted"}),H=r=>({status:"dirty",value:r}),T=r=>({status:"valid",value:r}),Ne=r=>r.status==="aborted",Ce=r=>r.status==="dirty",re=r=>r.status==="valid",ae=r=>typeof Promise<"u"&&r instanceof Promise;function be(r,e,t,a){if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function ze(r,e,t,a,n){if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var h;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(h||(h={}));var ee,te;class O{constructor(e,t,a,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const De=(r,e)=>{if(re(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new P(r.common.issues);return this._error=t,this._error}}};function y(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:a,description:n}=r;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>{var u,d;const{message:p}=r;return i.code==="invalid_enum_value"?{message:p??o.defaultError}:typeof o.data>"u"?{message:(u=p??a)!==null&&u!==void 0?u:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(d=p??t)!==null&&d!==void 0?d:o.defaultError}},description:n}}class v{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return j(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:j(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new k,ctx:{common:e.parent.common,data:e.data,parsedType:j(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ae(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;const n={common:{issues:[],async:(a=t==null?void 0:t.async)!==null&&a!==void 0?a:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:j(e)},s=this._parseSync({data:e,path:n.path,parent:n});return De(n,s)}async parseAsync(e,t){const a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){const a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:j(e)},n=this._parse({data:e,path:a.path,parent:a}),s=await(ae(n)?n:Promise.resolve(n));return De(a,s)}refine(e,t){const a=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,s)=>{const i=e(n),o=()=>s.addIssue({code:c.custom,...a(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof t=="function"?t(a,n):t),!1))}_refinement(e){return new C({schema:this,typeName:m.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return E.create(this,this._def)}nullable(){return L.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return N.create(this,this._def)}promise(){return K.create(this,this._def)}or(e){return oe.create([this,e],this._def)}and(e){return ce.create(this,e,this._def)}transform(e){return new C({...y(this._def),schema:this,typeName:m.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new he({...y(this._def),innerType:this,defaultValue:t,typeName:m.ZodDefault})}brand(){return new Ae({typeName:m.ZodBranded,type:this,...y(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new pe({...y(this._def),innerType:this,catchValue:t,typeName:m.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ge.create(this,e)}readonly(){return me.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const at=/^c[^\s-]{8,}$/i,nt=/^[0-9a-z]+$/,st=/^[0-9A-HJKMNP-TV-Z]{26}$/,it=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ot=/^[a-z0-9_-]{21}$/i,ct=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ut="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pe;const lt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ft=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ht=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Be="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pt=new RegExp(`^${Be}$`);function Ue(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function mt(r){return new RegExp(`^${Ue(r)}$`)}function Ge(r){let e=`${Be}T${Ue(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function gt(r,e){return!!((e==="v4"||!e)&&lt.test(r)||(e==="v6"||!e)&&ft.test(r))}class Z extends v{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==f.string){const s=this._getOrReturnCtx(e);return l(s,{code:c.invalid_type,expected:f.string,received:s.parsedType}),g}const a=new k;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:c.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:c.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?l(n,{code:c.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&l(n,{code:c.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")dt.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"email",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")Pe||(Pe=new RegExp(ut,"u")),Pe.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"emoji",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")it.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"uuid",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")ot.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"nanoid",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")at.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"cuid",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")nt.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"cuid2",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")st.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"ulid",code:c.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),l(n,{validation:"url",code:c.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"regex",code:c.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?Ge(s).test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?pt.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?mt(s).test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{code:c.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?ct.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"duration",code:c.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?gt(e.data,s.version)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"ip",code:c.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?ht.test(e.data)||(n=this._getOrReturnCtx(e,n),l(n,{validation:"base64",code:c.invalid_string,message:s.message}),a.dirty()):_.assertNever(s);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(n=>e.test(n),{validation:t,code:c.invalid_string,...h.errToObj(a)})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...h.errToObj(e)})}url(e){return this._addCheck({kind:"url",...h.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...h.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...h.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...h.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...h.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...h.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...h.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...h.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...h.errToObj(e)})}datetime(e){var t,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(a=e==null?void 0:e.local)!==null&&a!==void 0?a:!1,...h.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...h.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...h.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...h.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...h.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...h.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...h.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...h.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...h.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...h.errToObj(t)})}nonempty(e){return this.min(1,h.errToObj(e))}trim(){return new Z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Z.create=r=>{var e;return new Z({checks:[],typeName:m.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...y(r)})};function yt(r,e){const t=(r.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=t>a?t:a,s=parseInt(r.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return s%i/Math.pow(10,n)}class V extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==f.number){const s=this._getOrReturnCtx(e);return l(s,{code:c.invalid_type,expected:f.number,received:s.parsedType}),g}let a;const n=new k;for(const s of this._def.checks)s.kind==="int"?_.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),l(a,{code:c.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?yt(e.data,s.value)!==0&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),l(a,{code:c.not_finite,message:s.message}),n.dirty()):_.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,a,n){return new V({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:h.toString(n)}]})}_addCheck(e){return new V({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:h.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:h.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}V.create=r=>new V({checks:[],typeName:m.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...y(r)});class D extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==f.bigint){const s=this._getOrReturnCtx(e);return l(s,{code:c.invalid_type,expected:f.bigint,received:s.parsedType}),g}let a;const n=new k;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),l(a,{code:c.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):_.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,h.toString(t))}gt(e,t){return this.setLimit("min",e,!1,h.toString(t))}lte(e,t){return this.setLimit("max",e,!0,h.toString(t))}lt(e,t){return this.setLimit("max",e,!1,h.toString(t))}setLimit(e,t,a,n){return new D({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:h.toString(n)}]})}_addCheck(e){return new D({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:h.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}D.create=r=>{var e;return new D({checks:[],typeName:m.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...y(r)})};class ne extends v{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==f.boolean){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.boolean,received:a.parsedType}),g}return T(e.data)}}ne.create=r=>new ne({typeName:m.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...y(r)});class B extends v{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==f.date){const s=this._getOrReturnCtx(e);return l(s,{code:c.invalid_type,expected:f.date,received:s.parsedType}),g}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return l(s,{code:c.invalid_date}),g}const a=new k;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:c.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),l(n,{code:c.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):_.assertNever(s);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:h.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:h.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}B.create=r=>new B({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:m.ZodDate,...y(r)});class xe extends v{_parse(e){if(this._getType(e)!==f.symbol){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.symbol,received:a.parsedType}),g}return T(e.data)}}xe.create=r=>new xe({typeName:m.ZodSymbol,...y(r)});class se extends v{_parse(e){if(this._getType(e)!==f.undefined){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.undefined,received:a.parsedType}),g}return T(e.data)}}se.create=r=>new se({typeName:m.ZodUndefined,...y(r)});class ie extends v{_parse(e){if(this._getType(e)!==f.null){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.null,received:a.parsedType}),g}return T(e.data)}}ie.create=r=>new ie({typeName:m.ZodNull,...y(r)});class X extends v{constructor(){super(...arguments),this._any=!0}_parse(e){return T(e.data)}}X.create=r=>new X({typeName:m.ZodAny,...y(r)});class M extends v{constructor(){super(...arguments),this._unknown=!0}_parse(e){return T(e.data)}}M.create=r=>new M({typeName:m.ZodUnknown,...y(r)});class A extends v{_parse(e){const t=this._getOrReturnCtx(e);return l(t,{code:c.invalid_type,expected:f.never,received:t.parsedType}),g}}A.create=r=>new A({typeName:m.ZodNever,...y(r)});class ke extends v{_parse(e){if(this._getType(e)!==f.undefined){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.void,received:a.parsedType}),g}return T(e.data)}}ke.create=r=>new ke({typeName:m.ZodVoid,...y(r)});class N extends v{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),n=this._def;if(t.parsedType!==f.array)return l(t,{code:c.invalid_type,expected:f.array,received:t.parsedType}),g;if(n.exactLength!==null){const i=t.data.length>n.exactLength.value,o=t.data.length<n.exactLength.value;(i||o)&&(l(t,{code:i?c.too_big:c.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(l(t,{code:c.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(l(t,{code:c.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>n.type._parseAsync(new O(t,i,t.path,o)))).then(i=>k.mergeArray(a,i));const s=[...t.data].map((i,o)=>n.type._parseSync(new O(t,i,t.path,o)));return k.mergeArray(a,s)}get element(){return this._def.type}min(e,t){return new N({...this._def,minLength:{value:e,message:h.toString(t)}})}max(e,t){return new N({...this._def,maxLength:{value:e,message:h.toString(t)}})}length(e,t){return new N({...this._def,exactLength:{value:e,message:h.toString(t)}})}nonempty(e){return this.min(1,e)}}N.create=(r,e)=>new N({type:r,minLength:null,maxLength:null,exactLength:null,typeName:m.ZodArray,...y(e)});function F(r){if(r instanceof b){const e={};for(const t in r.shape){const a=r.shape[t];e[t]=E.create(F(a))}return new b({...r._def,shape:()=>e})}else return r instanceof N?new N({...r._def,type:F(r.element)}):r instanceof E?E.create(F(r.unwrap())):r instanceof L?L.create(F(r.unwrap())):r instanceof I?I.create(r.items.map(e=>F(e))):r}class b extends v{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=_.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==f.object){const d=this._getOrReturnCtx(e);return l(d,{code:c.invalid_type,expected:f.object,received:d.parsedType}),g}const{status:a,ctx:n}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof A&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||o.push(d);const u=[];for(const d of i){const p=s[d],w=n.data[d];u.push({key:{status:"valid",value:d},value:p._parse(new O(n,w,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof A){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of o)u.push({key:{status:"valid",value:p},value:{status:"valid",value:n.data[p]}});else if(d==="strict")o.length>0&&(l(n,{code:c.unrecognized_keys,keys:o}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of o){const w=n.data[p];u.push({key:{status:"valid",value:p},value:d._parse(new O(n,w,n.path,p)),alwaysSet:p in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of u){const w=await p.key,Q=await p.value;d.push({key:w,value:Q,alwaysSet:p.alwaysSet})}return d}).then(d=>k.mergeObjectSync(a,d)):k.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(e){return h.errToObj,new b({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,a)=>{var n,s,i,o;const u=(i=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,t,a).message)!==null&&i!==void 0?i:a.defaultError;return t.code==="unrecognized_keys"?{message:(o=h.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new b({...this._def,unknownKeys:"strip"})}passthrough(){return new b({...this._def,unknownKeys:"passthrough"})}extend(e){return new b({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new b({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:m.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new b({...this._def,catchall:e})}pick(e){const t={};return _.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])}),new b({...this._def,shape:()=>t})}omit(e){const t={};return _.objectKeys(this.shape).forEach(a=>{e[a]||(t[a]=this.shape[a])}),new b({...this._def,shape:()=>t})}deepPartial(){return F(this)}partial(e){const t={};return _.objectKeys(this.shape).forEach(a=>{const n=this.shape[a];e&&!e[a]?t[a]=n:t[a]=n.optional()}),new b({...this._def,shape:()=>t})}required(e){const t={};return _.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])t[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof E;)s=s._def.innerType;t[a]=s}}),new b({...this._def,shape:()=>t})}keyof(){return qe(_.objectKeys(this.shape))}}b.create=(r,e)=>new b({shape:()=>r,unknownKeys:"strip",catchall:A.create(),typeName:m.ZodObject,...y(e)});b.strictCreate=(r,e)=>new b({shape:()=>r,unknownKeys:"strict",catchall:A.create(),typeName:m.ZodObject,...y(e)});b.lazycreate=(r,e)=>new b({shape:r,unknownKeys:"strip",catchall:A.create(),typeName:m.ZodObject,...y(e)});class oe extends v{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;function n(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new P(o.ctx.common.issues));return l(t,{code:c.invalid_union,unionErrors:i}),g}if(t.common.async)return Promise.all(a.map(async s=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(n);{let s;const i=[];for(const u of a){const d={...t,common:{...t.common,issues:[]},parent:null},p=u._parseSync({data:t.data,path:t.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(u=>new P(u));return l(t,{code:c.invalid_union,unionErrors:o}),g}}get options(){return this._def.options}}oe.create=(r,e)=>new oe({options:r,typeName:m.ZodUnion,...y(e)});const R=r=>r instanceof ue?R(r.schema):r instanceof C?R(r.innerType()):r instanceof le?[r.value]:r instanceof $?r.options:r instanceof fe?_.objectValues(r.enum):r instanceof he?R(r._def.innerType):r instanceof se?[void 0]:r instanceof ie?[null]:r instanceof E?[void 0,...R(r.unwrap())]:r instanceof L?[null,...R(r.unwrap())]:r instanceof Ae||r instanceof me?R(r.unwrap()):r instanceof pe?R(r._def.innerType):[];class Se extends v{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.object)return l(t,{code:c.invalid_type,expected:f.object,received:t.parsedType}),g;const a=this.discriminator,n=t.data[a],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(l(t,{code:c.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),g)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){const n=new Map;for(const s of t){const i=R(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,s)}}return new Se({typeName:m.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...y(a)})}}function Ee(r,e){const t=j(r),a=j(e);if(r===e)return{valid:!0,data:r};if(t===f.object&&a===f.object){const n=_.objectKeys(e),s=_.objectKeys(r).filter(o=>n.indexOf(o)!==-1),i={...r,...e};for(const o of s){const u=Ee(r[o],e[o]);if(!u.valid)return{valid:!1};i[o]=u.data}return{valid:!0,data:i}}else if(t===f.array&&a===f.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<r.length;s++){const i=r[s],o=e[s],u=Ee(i,o);if(!u.valid)return{valid:!1};n.push(u.data)}return{valid:!0,data:n}}else return t===f.date&&a===f.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class ce extends v{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=(s,i)=>{if(Ne(s)||Ne(i))return g;const o=Ee(s.value,i.value);return o.valid?((Ce(s)||Ce(i))&&t.dirty(),{status:t.value,value:o.data}):(l(a,{code:c.invalid_intersection_types}),g)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ce.create=(r,e,t)=>new ce({left:r,right:e,typeName:m.ZodIntersection,...y(t)});class I extends v{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.array)return l(a,{code:c.invalid_type,expected:f.array,received:a.parsedType}),g;if(a.data.length<this._def.items.length)return l(a,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&a.data.length>this._def.items.length&&(l(a,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...a.data].map((i,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new O(a,i,a.path,o)):null}).filter(i=>!!i);return a.common.async?Promise.all(s).then(i=>k.mergeArray(t,i)):k.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new I({...this._def,rest:e})}}I.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new I({items:r,typeName:m.ZodTuple,rest:null,...y(e)})};class de extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.object)return l(a,{code:c.invalid_type,expected:f.object,received:a.parsedType}),g;const n=[],s=this._def.keyType,i=this._def.valueType;for(const o in a.data)n.push({key:s._parse(new O(a,o,a.path,o)),value:i._parse(new O(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?k.mergeObjectAsync(t,n):k.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,a){return t instanceof v?new de({keyType:e,valueType:t,typeName:m.ZodRecord,...y(a)}):new de({keyType:Z.create(),valueType:e,typeName:m.ZodRecord,...y(t)})}}class we extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.map)return l(a,{code:c.invalid_type,expected:f.map,received:a.parsedType}),g;const n=this._def.keyType,s=this._def.valueType,i=[...a.data.entries()].map(([o,u],d)=>({key:n._parse(new O(a,o,a.path,[d,"key"])),value:s._parse(new O(a,u,a.path,[d,"value"]))}));if(a.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of i){const d=await u.key,p=await u.value;if(d.status==="aborted"||p.status==="aborted")return g;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),o.set(d.value,p.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const u of i){const d=u.key,p=u.value;if(d.status==="aborted"||p.status==="aborted")return g;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),o.set(d.value,p.value)}return{status:t.value,value:o}}}}we.create=(r,e,t)=>new we({valueType:e,keyType:r,typeName:m.ZodMap,...y(t)});class U extends v{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==f.set)return l(a,{code:c.invalid_type,expected:f.set,received:a.parsedType}),g;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(l(a,{code:c.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(l(a,{code:c.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function i(u){const d=new Set;for(const p of u){if(p.status==="aborted")return g;p.status==="dirty"&&t.dirty(),d.add(p.value)}return{status:t.value,value:d}}const o=[...a.data.values()].map((u,d)=>s._parse(new O(a,u,a.path,d)));return a.common.async?Promise.all(o).then(u=>i(u)):i(o)}min(e,t){return new U({...this._def,minSize:{value:e,message:h.toString(t)}})}max(e,t){return new U({...this._def,maxSize:{value:e,message:h.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}U.create=(r,e)=>new U({valueType:r,minSize:null,maxSize:null,typeName:m.ZodSet,...y(e)});class Y extends v{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.function)return l(t,{code:c.invalid_type,expected:f.function,received:t.parsedType}),g;function a(o,u){return _e({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ve(),J].filter(d=>!!d),issueData:{code:c.invalid_arguments,argumentsError:u}})}function n(o,u){return _e({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ve(),J].filter(d=>!!d),issueData:{code:c.invalid_return_type,returnTypeError:u}})}const s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof K){const o=this;return T(async function(...u){const d=new P([]),p=await o._def.args.parseAsync(u,s).catch(G=>{throw d.addIssue(a(u,G)),d}),w=await Reflect.apply(i,this,p);return await o._def.returns._def.type.parseAsync(w,s).catch(G=>{throw d.addIssue(n(w,G)),d})})}else{const o=this;return T(function(...u){const d=o._def.args.safeParse(u,s);if(!d.success)throw new P([a(u,d.error)]);const p=Reflect.apply(i,this,d.data),w=o._def.returns.safeParse(p,s);if(!w.success)throw new P([n(p,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Y({...this._def,args:I.create(e).rest(M.create())})}returns(e){return new Y({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new Y({args:e||I.create([]).rest(M.create()),returns:t||M.create(),typeName:m.ZodFunction,...y(a)})}}class ue extends v{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ue.create=(r,e)=>new ue({getter:r,typeName:m.ZodLazy,...y(e)});class le extends v{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return l(t,{received:t.data,code:c.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}le.create=(r,e)=>new le({value:r,typeName:m.ZodLiteral,...y(e)});function qe(r,e){return new $({values:r,typeName:m.ZodEnum,...y(e)})}class $ extends v{constructor(){super(...arguments),ee.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),a=this._def.values;return l(t,{expected:_.joinValues(a),received:t.parsedType,code:c.invalid_type}),g}if(be(this,ee)||ze(this,ee,new Set(this._def.values)),!be(this,ee).has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return l(t,{received:t.data,code:c.invalid_enum_value,options:a}),g}return T(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return $.create(e,{...this._def,...t})}exclude(e,t=this._def){return $.create(this.options.filter(a=>!e.includes(a)),{...this._def,...t})}}ee=new WeakMap;$.create=qe;class fe extends v{constructor(){super(...arguments),te.set(this,void 0)}_parse(e){const t=_.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==f.string&&a.parsedType!==f.number){const n=_.objectValues(t);return l(a,{expected:_.joinValues(n),received:a.parsedType,code:c.invalid_type}),g}if(be(this,te)||ze(this,te,new Set(_.getValidEnumValues(this._def.values))),!be(this,te).has(e.data)){const n=_.objectValues(t);return l(a,{received:a.data,code:c.invalid_enum_value,options:n}),g}return T(e.data)}get enum(){return this._def.values}}te=new WeakMap;fe.create=(r,e)=>new fe({values:r,typeName:m.ZodNativeEnum,...y(e)});class K extends v{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.promise&&t.common.async===!1)return l(t,{code:c.invalid_type,expected:f.promise,received:t.parsedType}),g;const a=t.parsedType===f.promise?t.data:Promise.resolve(t.data);return T(a.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}K.create=(r,e)=>new K({type:r,typeName:m.ZodPromise,...y(e)});class C extends v{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===m.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:i=>{l(a,i),i.fatal?t.abort():t.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const i=n.transform(a.data,s);if(a.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return g;const u=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return u.status==="aborted"?g:u.status==="dirty"||t.value==="dirty"?H(u.value):u});{if(t.value==="aborted")return g;const o=this._def.schema._parseSync({data:i,path:a.path,parent:a});return o.status==="aborted"?g:o.status==="dirty"||t.value==="dirty"?H(o.value):o}}if(n.type==="refinement"){const i=o=>{const u=n.refinement(o,s);if(a.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?g:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?g:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(n.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!re(i))return i;const o=n.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>re(i)?Promise.resolve(n.transform(i.value,s)).then(o=>({status:t.value,value:o})):i);_.assertNever(n)}}C.create=(r,e,t)=>new C({schema:r,typeName:m.ZodEffects,effect:e,...y(t)});C.createWithPreprocess=(r,e,t)=>new C({schema:e,effect:{type:"preprocess",transform:r},typeName:m.ZodEffects,...y(t)});class E extends v{_parse(e){return this._getType(e)===f.undefined?T(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}E.create=(r,e)=>new E({innerType:r,typeName:m.ZodOptional,...y(e)});class L extends v{_parse(e){return this._getType(e)===f.null?T(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}L.create=(r,e)=>new L({innerType:r,typeName:m.ZodNullable,...y(e)});class he extends v{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===f.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}he.create=(r,e)=>new he({innerType:r,typeName:m.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...y(e)});class pe extends v{_parse(e){const{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return ae(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new P(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new P(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}pe.create=(r,e)=>new pe({innerType:r,typeName:m.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...y(e)});class Te extends v{_parse(e){if(this._getType(e)!==f.nan){const a=this._getOrReturnCtx(e);return l(a,{code:c.invalid_type,expected:f.nan,received:a.parsedType}),g}return{status:"valid",value:e.data}}}Te.create=r=>new Te({typeName:m.ZodNaN,...y(r)});const vt=Symbol("zod_brand");class Ae extends v{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class ge extends v{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?g:s.status==="dirty"?(t.dirty(),H(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?g:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,t){return new ge({in:e,out:t,typeName:m.ZodPipeline})}}class me extends v{_parse(e){const t=this._def.innerType._parse(e),a=n=>(re(n)&&(n.value=Object.freeze(n.value)),n);return ae(t)?t.then(n=>a(n)):a(t)}unwrap(){return this._def.innerType}}me.create=(r,e)=>new me({innerType:r,typeName:m.ZodReadonly,...y(e)});function Fe(r,e={},t){return r?X.create().superRefine((a,n)=>{var s,i;if(!r(a)){const o=typeof e=="function"?e(a):typeof e=="string"?{message:e}:e,u=(i=(s=o.fatal)!==null&&s!==void 0?s:t)!==null&&i!==void 0?i:!0,d=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...d,fatal:u})}}):X.create()}const _t={object:b.lazycreate};var m;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(m||(m={}));const bt=(r,e={message:`Input not instance of ${r.name}`})=>Fe(t=>t instanceof r,e),We=Z.create,He=V.create,xt=Te.create,kt=D.create,Ye=ne.create,wt=B.create,Tt=xe.create,St=se.create,Pt=ie.create,Zt=X.create,Nt=M.create,Ct=A.create,Et=ke.create,Ot=N.create,It=b.create,Rt=b.strictCreate,At=oe.create,jt=Se.create,Vt=ce.create,Dt=I.create,$t=de.create,Lt=we.create,Mt=U.create,zt=Y.create,Bt=ue.create,Ut=le.create,Gt=$.create,qt=fe.create,Ft=K.create,$e=C.create,Wt=E.create,Ht=L.create,Yt=C.createWithPreprocess,Jt=ge.create,Xt=()=>We().optional(),Kt=()=>He().optional(),Qt=()=>Ye().optional(),er={string:r=>Z.create({...r,coerce:!0}),number:r=>V.create({...r,coerce:!0}),boolean:r=>ne.create({...r,coerce:!0}),bigint:r=>D.create({...r,coerce:!0}),date:r=>B.create({...r,coerce:!0})},tr=g;var x=Object.freeze({__proto__:null,defaultErrorMap:J,setErrorMap:tt,getErrorMap:ve,makeIssue:_e,EMPTY_PATH:rt,addIssueToContext:l,ParseStatus:k,INVALID:g,DIRTY:H,OK:T,isAborted:Ne,isDirty:Ce,isValid:re,isAsync:ae,get util(){return _},get objectUtil(){return Ze},ZodParsedType:f,getParsedType:j,ZodType:v,datetimeRegex:Ge,ZodString:Z,ZodNumber:V,ZodBigInt:D,ZodBoolean:ne,ZodDate:B,ZodSymbol:xe,ZodUndefined:se,ZodNull:ie,ZodAny:X,ZodUnknown:M,ZodNever:A,ZodVoid:ke,ZodArray:N,ZodObject:b,ZodUnion:oe,ZodDiscriminatedUnion:Se,ZodIntersection:ce,ZodTuple:I,ZodRecord:de,ZodMap:we,ZodSet:U,ZodFunction:Y,ZodLazy:ue,ZodLiteral:le,ZodEnum:$,ZodNativeEnum:fe,ZodPromise:K,ZodEffects:C,ZodTransformer:C,ZodOptional:E,ZodNullable:L,ZodDefault:he,ZodCatch:pe,ZodNaN:Te,BRAND:vt,ZodBranded:Ae,ZodPipeline:ge,ZodReadonly:me,custom:Fe,Schema:v,ZodSchema:v,late:_t,get ZodFirstPartyTypeKind(){return m},coerce:er,any:Zt,array:Ot,bigint:kt,boolean:Ye,date:wt,discriminatedUnion:jt,effect:$e,enum:Gt,function:zt,instanceof:bt,intersection:Vt,lazy:Bt,literal:Ut,map:Lt,nan:xt,nativeEnum:qt,never:Ct,null:Pt,nullable:Ht,number:He,object:It,oboolean:Qt,onumber:Kt,optional:Wt,ostring:Xt,pipeline:Jt,preprocess:Yt,promise:Ft,record:$t,set:Mt,strictObject:Rt,string:We,symbol:Tt,transformer:$e,tuple:Dt,undefined:St,union:At,unknown:Nt,void:Et,NEVER:tr,ZodIssueCode:c,quotelessJson:et,ZodError:P});const Je=x.object({marketValuePurchaseDate:x.number().min(0,"Market value must be positive"),discountPercent:x.number().min(0,"Discount percent must be between 0 and 100").max(99.99,"Discount percent must be less than 100"),purchaseAmount:x.number().min(0,"Purchase amount must be positive"),marketValueSaleDate:x.number().min(0,"Market value at sale must be positive"),taxRatePercent:x.number().min(0).max(100,"Tax rate must be between 0 and 100")});x.object({purchasePricePerShare:x.number(),discountPerShare:x.number(),capitalGainPerShare:x.number(),numberOfShares:x.number().int(),totalPurchasePrice:x.number(),totalDiscount:x.number(),totalCapitalGain:x.number(),amountTaxableAsIncome:x.number(),totalTax:x.number(),totalProfit:x.number(),percentageGainLossOnInvestment:x.number()});function rr(r){Je.parse(r);const{marketValuePurchaseDate:e,discountPercent:t,purchaseAmount:a,marketValueSaleDate:n,taxRatePercent:s}=r,i=e*(1-t/100),o=e*(t/100),u=Math.floor(a/i),d=u*i,p=u*o,w=n-i,Q=u*w,G=p,je=G*(s/100),Ve=Q-je,Qe=d!==0?Ve/d*100:0;return{purchasePricePerShare:i,discountPerShare:o,capitalGainPerShare:w,numberOfShares:u,totalPurchasePrice:d,totalDiscount:p,totalCapitalGain:Q,amountTaxableAsIncome:G,totalTax:je,totalProfit:Ve,percentageGainLossOnInvestment:Qe}}const q={marketValuePurchaseDate:4.6,discountPercent:15,purchaseAmount:1e3,marketValueSaleDate:4.6,taxRatePercent:40,stockPercentageGainLoss:0};function S(r){const e=typeof r=="string"?parseFloat(r.replace(/[^0-9.-]+/g,"")):r;return isNaN(e)?r.toString():`$${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}`}function z(r){const e=typeof r=="string"?parseFloat(r.replace(/[^0-9.-]+/g,"")):r;return isNaN(e)?r.toString():`${e.toFixed(2)}%`}function W(r,e){return e==="currency"?r.replace(/[^0-9.,-]/g,""):e==="percent"?r.replace(/[^0-9.-]/g,""):r}function ye(r,e=!0){const t=e?S(r.toString()):z(r.toString());return r<0?`<span class="text-red-500">${t}</span>`:t}function Xe(r,e){return r*(1+e/100)}function ar(r,e){return(e-r)/r*100}function Ke(){const r=document.getElementById("results"),e=document.getElementById("resultsContent");r&&(r.classList.add("invisible","opacity-0"),r.classList.remove("opacity-100")),e&&(e.innerHTML="")}document.querySelector("#app").innerHTML=`
  <h1 class="text-2xl font-bold mb-4">ESPP Calculator</h1>
    <p class="text-sm text-gray-400 mb-4">
    This tool applies to a person in the US, with a Section 423 qualified plan, selling within the disqualified disposition time frame (i.e., within two years from the offering date and one year from the purchase date). This is not financial advice. 
  </p>
  <form id="esppForm" class="bg-gray-800 p-6 rounded-lg shadow-md">
    <div class="mb-4">
      <label for="marketValuePurchaseDate" class="block text-sm font-medium text-gray-400">Market Value at Purchase Date</label>
      <input type="text" id="marketValuePurchaseDate" name="marketValuePurchaseDate" value="${S(q.marketValuePurchaseDate.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>
    
    <div class="mb-4">
      <label for="discountPercent" class="block text-sm font-medium text-gray-400">Discount Percent</label>
      <input type="text" id="discountPercent" name="discountPercent" value="${z(q.discountPercent.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>

    <div class="mb-4">
      <label for="purchaseAmount" class="block text-sm font-medium text-gray-400">Purchase Amount (in dollars)</label>
      <input type="text" id="purchaseAmount" name="purchaseAmount" value="${S(q.purchaseAmount.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>

    <div class="mb-4">
      <label for="marketValueSaleDate" class="block text-sm font-medium text-gray-400">Market Value at Time of Sale</label>
      <input type="text" id="marketValueSaleDate" name="marketValueSaleDate" value="${S(q.marketValueSaleDate.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>


    <div class="mb-4">
      <label for="stockPercentageGainLoss" class="block text-sm font-medium text-gray-400">Market Value Gain/Loss Percentage</label>
      <input type="text" id="stockPercentageGainLoss" name="stockPercentageGainLoss" value="${z(q.stockPercentageGainLoss.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>
    
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-400 mb-2">Market Value Gain/loss Scenarios</label>
      <div class="flex space-x-2 justify-center">
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="-15">-15%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="-10">-10%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="-3">-3%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="0">0%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="3">+3%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="10">+10%</button>
        <button type="button" class="scenario-button bg-gray-700 text-gray-100 rounded-md p-2" data-percentage="15">+15%</button>
      </div>
    </div>

    <div class="mb-4">
      <label for="taxRatePercent" class="block text-sm font-medium text-gray-400">Tax Rate Percent</label>
      <input type="text" id="taxRatePercent" name="taxRatePercent" value="${z(q.taxRatePercent.toFixed(2))}" class="mt-1 block w-full bg-gray-700 text-gray-100 border border-gray-600 rounded-md p-2" required>
    </div>

    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md">Calculate</button>
  </form>

  <div id="results" class="mt-6 bg-gray-800 p-6 rounded-lg shadow-md invisible opacity-0 transition-opacity duration-300">
    <h2 class="text-xl font-bold mb-4 text-gray-200">Results</h2>
    <div id="resultsContent" class="text-left"></div>
  </div>
`;const Oe=document.getElementById("marketValuePurchaseDate"),Ie=document.getElementById("marketValueSaleDate"),Re=document.getElementById("stockPercentageGainLoss"),nr=document.querySelectorAll('input[type="text"]');nr.forEach(r=>{r.addEventListener("input",()=>{Ke()}),r.addEventListener("blur",e=>{const t=e.target,a=t.name.includes("Percent")?"percent":"currency";t.value=a==="percent"?z(t.value):S(t.value)}),r.addEventListener("input",e=>{const t=e.target,a=t.name.includes("Percent")?"percent":"currency";if(t.value=W(t.value,a),t===Re){const n=parseFloat(Oe.value.replace(/[^0-9.-]+/g,"")),s=parseFloat(t.value.replace(/[^0-9.-]+/g,""));if(!isNaN(n)&&!isNaN(s)){const i=Xe(n,s);Ie.value=S(i.toFixed(2))}}else if(t===Ie){const n=parseFloat(Oe.value.replace(/[^0-9.-]+/g,"")),s=parseFloat(t.value.replace(/[^0-9.-]+/g,""));if(!isNaN(n)&&!isNaN(s)){const i=ar(n,s);Re.value=z(i.toFixed(2))}}})});const sr=document.querySelectorAll(".scenario-button");sr.forEach(r=>{r.addEventListener("click",e=>{const t=e.target,a=parseFloat(t.getAttribute("data-percentage")||"0"),n=parseFloat(Oe.value.replace(/[^0-9.-]+/g,""));if(!isNaN(n)){Ke();const s=Xe(n,a);Ie.value=S(s.toFixed(2)),Re.value=z(a)}})});var Le;(Le=document.getElementById("esppForm"))==null||Le.addEventListener("submit",r=>{r.preventDefault();const e=new FormData(r.target),t={marketValuePurchaseDate:parseFloat(W(e.get("marketValuePurchaseDate"),"currency").replace(/,/g,"")),discountPercent:parseFloat(W(e.get("discountPercent"),"percent").replace("%","")),purchaseAmount:parseFloat(W(e.get("purchaseAmount"),"currency").replace(/,/g,"")),marketValueSaleDate:parseFloat(W(e.get("marketValueSaleDate"),"currency").replace(/,/g,"")),taxRatePercent:parseFloat(W(e.get("taxRatePercent"),"percent").replace("%",""))};try{Je.parse(t);const a=rr(t),n=document.getElementById("results"),s=document.getElementById("resultsContent");s&&(s.innerHTML=`
          <h3 class="text-lg font-semibold mb-2">Share Information</h3>
          <p>Number of Shares Purchased: ${a.numberOfShares}</p>
          <p>Purchase Price per Share: ${S(a.purchasePricePerShare.toString())}</p>
          <p>Discount per Share: ${S(a.discountPerShare.toString())}</p>
          
          <h3 class="text-lg font-semibold mt-4 mb-2">Financial Impact</h3>
          <p>Total Purchase Price: ${S(a.totalPurchasePrice.toString())}</p>
          <p>Total Discount: ${S(a.totalDiscount.toString())}</p>
          
          <h3 class="text-lg font-semibold mt-4 mb-2">Gains/Losses</h3>
          <p>Capital Gain/Loss per Share: ${ye(a.capitalGainPerShare)}</p>
          <p>Total Capital Gain/Loss: ${ye(a.totalCapitalGain)}</p>
          
          <h3 class="text-lg font-semibold mt-4 mb-2">Tax Implications</h3>
          <p>Amount Taxable as Income (Total Discount): ${S(a.amountTaxableAsIncome.toString())}</p>
          <p>Total Tax: ${S(a.totalTax.toString())}</p>
          
          <h3 class="text-lg font-semibold mt-4 mb-2">Final Outcome</h3>
          <p class="font-bold">Total Profit/Loss: ${ye(a.totalProfit)}</p>
          <p class="font-bold">Percentage Gain/Loss on Investment: ${ye(a.percentageGainLossOnInvestment,!1)}</p>
        `),n&&(n.classList.remove("invisible","opacity-0"),n.classList.add("opacity-100"))}catch(a){a instanceof x.ZodError?alert("Invalid input. Please check your entries and try again."):console.error("An unexpected error occurred:",a)}});
